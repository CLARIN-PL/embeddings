
{{ $fields := slice }}
{{ range $.Site.Data.results }}
   {{ range $k, $v := . }}
      {{ $fields = $fields | append $k }}
   {{ end }}
{{ end }}
{{ $fields :=  $fields | uniq }}

<table>
  <thead>
     <tr>
      {{ range $field := $fields }}
         <th>
            {{ $field |
                replaceRE "(^[^A-Z0-9]*|[A-Z0-9]*)([A-Z0-9][^A-Z]+|$)" " ${1} $2" |
                 replaceRE "( ?)([0-9]+)( ?)" " $2 " |
                  humanize  }}
         </th>
      {{ end }}
      </tr>
  </thead>
  {{ range $result := $.Site.Data.results }}
   <tr>
      {{ range $field := $fields }}
         <td>
            {{ index $result  $field }}
         </td>
      {{ end }}
      </tr>
  {{end}}
</table>