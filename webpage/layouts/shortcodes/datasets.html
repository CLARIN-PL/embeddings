{{ $datasets := slice }}
{{ $datasetsToIgnore := slice "allegro/klej-cdsc-e" "allegro/klej-dyk" "allegro/klej-polemo2-official" "allegro/klej-polemo2-in" "allegro/klej-polemo2-out" "allegro/klej-psc" }}
{{ range $file, $result := $.Site.Data.results }}
    {{ $datasets = uniq ($datasets | append (index $result "dataset_name")) }}
{{end}}

<!-- {{ range $dataset := $datasets}}
    <div> {{ $dataset }} </div>
{{end}} -->
<style> 
.accordion-item{
    margin-bottom: 1em;
}
</style>
{{ range $i, $dataset := $datasets}}
    <div class="accordion container" id="accordionExample">
        <div class="accordion-item">
        <h2 class="accordion-header" id="heading{{$dataset}}">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{$i}}" aria-expanded="false">
                {{ $dataset }}
            </button>
        </h2>
        <div id="collapse{{$i}}" class="accordion-collapse collapse" aria-labelledby="heading{{$dataset}}" data-bs-parent="#accordionExample">
            <div class="accordion-body">
                {{ if not (in $datasetsToIgnore $dataset)}}
                    <zero-md id="zeroMd" src="https://huggingface.co/datasets/{{$dataset}}/raw/main/README.md"></zero-md>
                {{end}}
            </div>
        </div>
        </div>
    </div>
{{end}}